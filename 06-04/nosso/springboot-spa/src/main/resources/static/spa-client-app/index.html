<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>SPA Main Page</title>
  <script>
    function accessResource(reqMethod) {
      // API の呼び出し
      callAPI(reqMethod);
    }

    async function callAPI(reqMethod) {
      const url = "http://localhost:8280/spa-resource-server/user";
      const reqHeaders = new Headers();
      reqHeaders.append("Content-Type", "application/json");
      try {
        const response = await fetch(url, {
          method: reqMethod,
          headers: reqHeaders
        });
        if (!response.ok) {
          throw new Error(`レスポンスステータス: ${response.status}`);
        }

        const json = await response.json();
        alert(JSON.stringify(json, null, 2));
      } catch (error) {
        console.error(error.message);
      }
    }
  </script>
</head>
<body>
<h1>SPA Main Page</h1>
<h3>Resource Server Access</h3>
<ul>
  <li><a href="javascript: accessResource('GET');">Access resource by 'GET' method</a>
  <li><a href="javascript: accessResource('POST');">Access resource by  'POST' method</a>
  <li><a href="javascript: accessResource('PUT');">Access resource by 'PUT' method</a>
  <li><a href="javascript: accessResource('DELETE');">Access resource by 'DELETE' method</a>
</ul>
</body>
</html>

